<table class="min-w-full table-auto rounded border-separate border-tools-table-outline text-gray-700 bg-gray-50 dark:bg-gray-700 dark:text-gray-400">
  <thead class="text-xs uppercase text-gray-700 bg-gray-50 dark:bg-gray-700 dark:text-gray-400">
      <tr>
        <% @columns.each do |column| %>
          <th scope="col" class="px-6 py-3">
            <% if column.sortable? %>
              <%= link_to column.sort_path, class: "flex items-center justify-center" do %>
                <%= column.label %>
                <% if column.sort_icon == :asc %>
                  <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M4.5 10.5 12 3m0 0 7.5 7.5M12 3v18" />
                  </svg>
                <% elsif column.sort_icon == :desc %>
                  <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 13.5 12 21m0 0-7.5-7.5M12 21V3" />
                  </svg>
                <% else %>
                  <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4 h-4">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M3 7.5 7.5 3m0 0L12 7.5M7.5 3v13.5m13.5 0L16.5 21m0 0L12 16.5m4.5 4.5V7.5" />
                  </svg>
                <% end %>
              <% end %>
            <% else %>
              <%= column.label %>
            <% end %>
          </th>
        <% end %>
      </tr>
  </thead>

  <tbody class="bg-white border-b dark:bg-gray-800 dark:border-gray-700">
  <% sorted_data.each do |row| %>
    <tr>
      <% @columns.each do |column| %>
        <td class="px-6 py-4 text-center">
          <%= view_context.capture(row, &column.td_block) %>
          <%# the capture ensures, that we do not only return the return of the block, but all the html from the block, see below %>
        </td>
      <% end %>
    </tr>
  <% end %>
  </tbody>
</table>
